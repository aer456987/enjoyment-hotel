import{_ as z}from"./nuxt-img.BpsOkbCC.js";import{_ as $}from"./nuxt-link.9B71KFjc.js";import Q from"./Icon.wjsf6Hii.js";import{V as R,W as F,g as h,X as G,Y as q,Z,k as d,n as N,P as J,_ as Y,q as E,l as g,O as K,f as U,y as ee,Q as te,o as x,c as C,b as m,w as y,a as u,B as D,d as k,t as ne,i as oe,z as se}from"./entry.5F93Vz7a.js";import{_ as re}from"./_plugin-vue_export-helper.x3n3nnut.js";function M(e){return R()?(F(e),!0):!1}function _(e){return typeof e=="function"?e():h(e)}const P=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const ae=Object.prototype.toString,ie=e=>ae.call(e)==="[object Object]",H=()=>{},V=le();function le(){var e,t;return P&&((e=window==null?void 0:window.navigator)==null?void 0:e.userAgent)&&(/iP(ad|hone|od)/.test(window.navigator.userAgent)||((t=window==null?void 0:window.navigator)==null?void 0:t.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function ce(e){return e||Y()}function ue(...e){if(e.length!==1)return G(...e);const t=e[0];return typeof t=="function"?q(Z(()=>({get:t,set:H}))):d(t)}function de(e,t=!0,n){ce()?N(e,n):t?e():J(e)}function fe(e){var t;const n=_(e);return(t=n==null?void 0:n.$el)!=null?t:n}const L=P?window:void 0;function T(...e){let t,n,i,s;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,i,s]=e,t=L):[t,n,i,s]=e,!t)return H;Array.isArray(n)||(n=[n]),Array.isArray(i)||(i=[i]);const l=[],r=()=>{l.forEach(f=>f()),l.length=0},o=(f,p,v,w)=>(f.addEventListener(p,v,w),()=>f.removeEventListener(p,v,w)),a=E(()=>[fe(t),_(s)],([f,p])=>{if(r(),!f)return;const v=ie(p)?{...p}:p;l.push(...n.flatMap(w=>i.map(S=>o(f,w,S,v))))},{immediate:!0,flush:"post"}),c=()=>{a(),r()};return M(c),c}function pe(){const e=d(!1);return Y()&&N(()=>{e.value=!0}),e}function ve(e){const t=pe();return g(()=>(t.value,!!e()))}function me(e,t={}){const{window:n=L}=t,i=ve(()=>n&&"matchMedia"in n&&typeof n.matchMedia=="function");let s;const l=d(!1),r=c=>{l.value=c.matches},o=()=>{s&&("removeEventListener"in s?s.removeEventListener("change",r):s.removeListener(r))},a=K(()=>{i.value&&(o(),s=n.matchMedia(_(e)),"addEventListener"in s?s.addEventListener("change",r):s.addListener(r),l.value=s.matches)});return M(()=>{a(),o(),s=void 0}),l}function W(e){return typeof Window<"u"&&e instanceof Window?e.document.documentElement:typeof Document<"u"&&e instanceof Document?e.documentElement:e}function B(e){const t=window.getComputedStyle(e);if(t.overflowX==="scroll"||t.overflowY==="scroll"||t.overflowX==="auto"&&e.clientWidth<e.scrollWidth||t.overflowY==="auto"&&e.clientHeight<e.scrollHeight)return!0;{const n=e.parentNode;return!n||n.tagName==="BODY"?!1:B(n)}}function ge(e){const t=e||window.event,n=t.target;return B(n)?!1:t.touches.length>1?!0:(t.preventDefault&&t.preventDefault(),!1)}const I=new WeakMap;function he(e,t=!1){const n=d(t);let i=null,s;E(ue(e),o=>{const a=W(_(o));if(a){const c=a;I.get(c)||I.set(c,s),n.value&&(c.style.overflow="hidden")}},{immediate:!0});const l=()=>{const o=W(_(e));!o||n.value||(V&&(i=T(o,"touchmove",a=>{ge(a)},{passive:!1})),o.style.overflow="hidden",n.value=!0)},r=()=>{var o;const a=W(_(e));!a||!n.value||(V&&(i==null||i()),a.style.overflow=(o=I.get(a))!=null?o:"",I.delete(a),n.value=!1)};return M(r),g({get(){return n.value},set(o){o?l():r()}})}function we(e={}){const{window:t=L,behavior:n="auto"}=e;if(!t)return{x:d(0),y:d(0)};const i=d(t.scrollX),s=d(t.scrollY),l=g({get(){return i.value},set(o){scrollTo({left:o,behavior:n})}}),r=g({get(){return s.value},set(o){scrollTo({top:o,behavior:n})}});return T(t,"scroll",()=>{i.value=t.scrollX,s.value=t.scrollY},{capture:!1,passive:!0}),{x:l,y:r}}function _e(e={}){const{window:t=L,initialWidth:n=Number.POSITIVE_INFINITY,initialHeight:i=Number.POSITIVE_INFINITY,listenOrientation:s=!0,includeScrollbar:l=!0}=e,r=d(n),o=d(i),a=()=>{t&&(l?(r.value=t.innerWidth,o.value=t.innerHeight):(r.value=t.document.documentElement.clientWidth,o.value=t.document.documentElement.clientHeight))};if(a(),de(a),T("resize",a,{passive:!0}),s){const c=me("(orientation: portrait)");E(c,()=>a())}return{width:r,height:o}}const be={key:0,class:"navbar navbar-expand-md"},ye={id:"navbarSupportedContent",class:"collapse navbar-collapse"},ke={class:"nav-list"},Se={key:0},xe={class:"dropdown flex-grow-1"},Ce={class:"btn btn-ghost d-flex align-items-center gap-2",type:"button","aria-expanded":"false","data-bs-auto-close":"outside","data-bs-toggle":"dropdown"},Ie={class:"dropdown-menu dropdown-menu-end px-0"},Ee={key:1},Le=U({__name:"PageHeader",props:{status:{type:String,default:""}},setup(e){const t=e,n=g(()=>{if(l.value)return!0;switch(t.status){case"logo":return!0;case"bg":return!0;default:return!1}}),{y:i}=we(),{width:s}=_e(),l=g(()=>i.value>5),r=d(),o=d(!1);let a;N(()=>{a=he(document.body)});const c=()=>{o.value=r.value.getAttribute("aria-expanded")==="true",a.value=o.value},f=g(()=>s.value>768),p=()=>{!f.value&&o.value&&r.value.click()};E(s,()=>{f.value&&o.value&&r.value.click()});const v=ee(),w=te("reload",()=>{}),S=g(()=>"name"in v.me?v.me.name:""),X=()=>{se("/"),v.me={},v.token="",w()};return(Oe,A)=>{const j=z,b=$,O=Q;return x(),C("header",{class:D([h(n)&&"bg-background","page-header"])},[m(b,{to:"/"},{default:y(()=>[m(j,{src:"/img/logo.png",height:h(s)<768?40:72},null,8,["height"])]),_:1}),t.status!=="logo"||!h(f)?(x(),C("nav",be,[u("button",{ref_key:"toggler",ref:r,class:D([h(o)&&"isLocked","btn btn-ghost navbar-toggler shadow-none"]),type:"button","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation","data-bs-target":"#navbarSupportedContent","data-bs-toggle":"collapse",onClick:c},[m(O,{name:"ic:round-menu"})],2),u("div",ye,[u("button",{class:"btn btn-ghost navbar-toggler inside shadow-none",type:"button",onClick:p},[m(O,{name:"ic:round-close"})]),u("ul",ke,[u("li",null,[m(b,{class:"btn btn-ghost",to:"/rooms",onClick:p},{default:y(()=>[k("客房旅宿")]),_:1})]),h(S)?(x(),C("li",Se,[u("div",xe,[u("button",Ce,[m(O,{class:"text-light fs-5",name:"IconProfile"}),k(" "+ne(h(S)),1)]),u("ul",Ie,[u("li",null,[m(b,{class:"dropdown-item",to:"/user"},{default:y(()=>[k("我的帳號")]),_:1})]),u("li",null,[u("button",{class:"dropdown-item",type:"button",onClick:A[0]||(A[0]=We=>X())},"登出")])])])])):(x(),C("li",Ee,[m(b,{class:"btn btn-ghost",to:"/login",onClick:p},{default:y(()=>[k("會員登入")]),_:1})])),u("li",null,[m(b,{class:"btn btn-primary",to:"/rooms",onClick:p},{default:y(()=>[k("立即訂房")]),_:1})])])])])):oe("",!0)],2)}}}),Ve=re(Le,[["__scopeId","data-v-ece18b7e"]]);export{Ve as _};
